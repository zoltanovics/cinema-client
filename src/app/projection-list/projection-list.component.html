<h1 class="display-2">Projections</h1>

<table class="table">
  <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">Movie</th>
      <th scope="col">Room</th>
      <th scope="col">Date</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let projection of projections" (click)="onSelectProjection(projection)" [class.table-info]="projection === selectedProjection">
        <th scope="row">{{ projection.id }}</th>
        <td><a [routerLink]="['/movies', projection.movie.id]">{{ projection.movie.name }}</a></td>
        <td><a [routerLink]="['/rooms', projection.room.id]">{{ projection.room.name }}</a></td>
        <td><a [routerLink]="['/projections', projection.id]">{{ projection.projectionDate.toLocaleDateString() }}</a></td>
      </tr>
  </tbody>
</table>

<div class="col" *ngIf="selectedProjection">
    <button mat-raised-button color="primary" (click)="onNewClick()">New projection</button>
    <projection-form [projection]="selectedProjection" (onSubmit)="onFormSubmit($event)"></projection-form>
</div>